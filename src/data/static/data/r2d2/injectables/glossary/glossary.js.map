{"version":3,"sources":["webpack://Glossary/webpack/bootstrap","webpack://Glossary/./node_modules/mark.js/dist/mark.js","webpack://Glossary/./injectables/glossary/glossary.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_typeof","iterator","obj","constructor","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","props","length","descriptor","configurable","writable","protoProps","staticProps","_extends","assign","arguments","source","DOMIterator","ctx","iframes","undefined","exclude","iframesTimeout","this","filteredCtx","NodeList","isPrototypeOf","Array","slice","isArray","document","querySelectorAll","forEach","isDescendant","filter","contexts","contains","indexOf","push","ifr","successFn","errorFn","doc","ifrWin","contentWindow","Error","e","bl","src","getAttribute","trim","location","href","_this","called","tout","listener","clearTimeout","isIframeBlank","removeEventListener","getIframeContents","addEventListener","setTimeout","readyState","observeIframeLoad","done","_this2","eachCalled","forEachIframe","waitForIframes","querySelector","handled","each","_this3","end","open","checkEnd","matches","onIframeReady","con","whatToShow","createNodeIterator","contents","node","prevNode","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_FOLLOWING","itr","previousNode","nextNode","currIfr","ifrDict","val","compareNodeIframe","eCb","fCb","_this4","createInstanceOnIframe","forEachNode","eachCb","filterCb","doneCb","_getIteratorNode","_this5","createIterator","elements","getIteratorNode","checkIframeFilter","ifrNode","handleOpenIframes","_this6","getContexts","ready","iterateThroughNodes","element","selector","selectors","fn","matchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","webkitMatchesSelector","match","every","sel","Mark$1","Mark","ie","ua","window","navigator","userAgent","msg","level","log","opt","debug","str","replace","wildcards","setupWildcardsRegExp","escapeStr","keys","synonyms","createSynonymsRegExp","ignoreJoiners","ignorePunctuation","setupIgnoreJoinersRegExp","diacritics","createDiacriticsRegExp","createMergedBlanksRegExp","createJoinersRegExp","createWildcardsRegExp","createAccuracyRegExp","syn","sens","caseSensitive","joinerPlaceholder","index","k1","k2","RegExp","processSynomyms","charAt","spaces","indx","original","nextChar","test","joiner","join","split","dct","ch","acc","accuracy","ls","limiters","lsJoin","limiter","sv","stack","kw","separateWordSearch","kwSplitted","sort","a","b","Number","parseFloat","array","toString","noMatch","last","start","item","_callNoMatchOnInvalid","callNoMatchOnInvalidRanges","valid","range","parseInt","isNumeric","JSON","stringify","originalLength","string","max","offset","substring","cb","nodes","NodeFilter","SHOW_TEXT","textContent","matchesExclude","parentNode","FILTER_REJECT","FILTER_ACCEPT","el","concat","hEl","startNode","splitText","ret","repl","createElement","setAttribute","className","replaceChild","dict","sibl","startStr","substr","endStr","wrapRangeInTextNode","k","j","previousSibling","regex","ignoreGroups","endCb","matchIdx","getTextNodes","exec","pos","lastIndex","_this7","wrapRangeInMappedTextNode","ranges","_this8","counter","_checkWhitespaceRange","checkWhitespaceRanges","parent","docFrag","createDocumentFragment","firstChild","appendChild","removeChild","normalizeTextNode","normalize","nodeType","nextSibling","nodeValue","regexp","_this9","totalMatches","acrossElements","_this10","_getSeparatedKeywords","getSeparatedKeywords","kwArr","keywords","kwArrLen","handler","createRegExp","term","rawRanges","_this11","checkRanges","wrapRangeFromIndex","_this12","SHOW_ELEMENT","unwrapMatches","matchesSel","set","_opt","console","mark","markRegExp","markRanges","unmark","factory","IS_DEV","glossary","glossaryitem","body","word","event","htmlElement","preventDefault","stopPropagation","modal","innerHTML","definition","style","display","modalContent","getElementsByClassName","offsetTop","top","onclick","parentElement","markCuedWords"],"mappings":"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","file":"glossary.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/*!***************************************************\n* mark.js v8.11.1\n* https://markjs.io/\n* Copyright (c) 2014–2018, Julian Kühnel\n* Released under the MIT license https://git.io/vwTVl\n*****************************************************/\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.Mark = factory());\n}(this, (function () { 'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\n\n\n\n\n\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar DOMIterator = function () {\n  function DOMIterator(ctx) {\n    var iframes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var exclude = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    var iframesTimeout = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 5000;\n    classCallCheck(this, DOMIterator);\n\n    this.ctx = ctx;\n    this.iframes = iframes;\n    this.exclude = exclude;\n    this.iframesTimeout = iframesTimeout;\n  }\n\n  createClass(DOMIterator, [{\n    key: 'getContexts',\n    value: function getContexts() {\n      var ctx = void 0,\n          filteredCtx = [];\n      if (typeof this.ctx === 'undefined' || !this.ctx) {\n        ctx = [];\n      } else if (NodeList.prototype.isPrototypeOf(this.ctx)) {\n        ctx = Array.prototype.slice.call(this.ctx);\n      } else if (Array.isArray(this.ctx)) {\n        ctx = this.ctx;\n      } else if (typeof this.ctx === 'string') {\n        ctx = Array.prototype.slice.call(document.querySelectorAll(this.ctx));\n      } else {\n        ctx = [this.ctx];\n      }\n      ctx.forEach(function (ctx) {\n        var isDescendant = filteredCtx.filter(function (contexts) {\n          return contexts.contains(ctx);\n        }).length > 0;\n        if (filteredCtx.indexOf(ctx) === -1 && !isDescendant) {\n          filteredCtx.push(ctx);\n        }\n      });\n      return filteredCtx;\n    }\n  }, {\n    key: 'getIframeContents',\n    value: function getIframeContents(ifr, successFn) {\n      var errorFn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n\n      var doc = void 0;\n      try {\n        var ifrWin = ifr.contentWindow;\n        doc = ifrWin.document;\n        if (!ifrWin || !doc) {\n          throw new Error('iframe inaccessible');\n        }\n      } catch (e) {\n        errorFn();\n      }\n      if (doc) {\n        successFn(doc);\n      }\n    }\n  }, {\n    key: 'isIframeBlank',\n    value: function isIframeBlank(ifr) {\n      var bl = 'about:blank',\n          src = ifr.getAttribute('src').trim(),\n          href = ifr.contentWindow.location.href;\n      return href === bl && src !== bl && src;\n    }\n  }, {\n    key: 'observeIframeLoad',\n    value: function observeIframeLoad(ifr, successFn, errorFn) {\n      var _this = this;\n\n      var called = false,\n          tout = null;\n      var listener = function listener() {\n        if (called) {\n          return;\n        }\n        called = true;\n        clearTimeout(tout);\n        try {\n          if (!_this.isIframeBlank(ifr)) {\n            ifr.removeEventListener('load', listener);\n            _this.getIframeContents(ifr, successFn, errorFn);\n          }\n        } catch (e) {\n          errorFn();\n        }\n      };\n      ifr.addEventListener('load', listener);\n      tout = setTimeout(listener, this.iframesTimeout);\n    }\n  }, {\n    key: 'onIframeReady',\n    value: function onIframeReady(ifr, successFn, errorFn) {\n      try {\n        if (ifr.contentWindow.document.readyState === 'complete') {\n          if (this.isIframeBlank(ifr)) {\n            this.observeIframeLoad(ifr, successFn, errorFn);\n          } else {\n            this.getIframeContents(ifr, successFn, errorFn);\n          }\n        } else {\n          this.observeIframeLoad(ifr, successFn, errorFn);\n        }\n      } catch (e) {\n        errorFn();\n      }\n    }\n  }, {\n    key: 'waitForIframes',\n    value: function waitForIframes(ctx, done) {\n      var _this2 = this;\n\n      var eachCalled = 0;\n      this.forEachIframe(ctx, function () {\n        return true;\n      }, function (ifr) {\n        eachCalled++;\n        _this2.waitForIframes(ifr.querySelector('html'), function () {\n          if (! --eachCalled) {\n            done();\n          }\n        });\n      }, function (handled) {\n        if (!handled) {\n          done();\n        }\n      });\n    }\n  }, {\n    key: 'forEachIframe',\n    value: function forEachIframe(ctx, filter, each) {\n      var _this3 = this;\n\n      var end = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n\n      var ifr = ctx.querySelectorAll('iframe'),\n          open = ifr.length,\n          handled = 0;\n      ifr = Array.prototype.slice.call(ifr);\n      var checkEnd = function checkEnd() {\n        if (--open <= 0) {\n          end(handled);\n        }\n      };\n      if (!open) {\n        checkEnd();\n      }\n      ifr.forEach(function (ifr) {\n        if (DOMIterator.matches(ifr, _this3.exclude)) {\n          checkEnd();\n        } else {\n          _this3.onIframeReady(ifr, function (con) {\n            if (filter(ifr)) {\n              handled++;\n              each(con);\n            }\n            checkEnd();\n          }, checkEnd);\n        }\n      });\n    }\n  }, {\n    key: 'createIterator',\n    value: function createIterator(ctx, whatToShow, filter) {\n      return document.createNodeIterator(ctx, whatToShow, filter, false);\n    }\n  }, {\n    key: 'createInstanceOnIframe',\n    value: function createInstanceOnIframe(contents) {\n      return new DOMIterator(contents.querySelector('html'), this.iframes);\n    }\n  }, {\n    key: 'compareNodeIframe',\n    value: function compareNodeIframe(node, prevNode, ifr) {\n      var compCurr = node.compareDocumentPosition(ifr),\n          prev = Node.DOCUMENT_POSITION_PRECEDING;\n      if (compCurr & prev) {\n        if (prevNode !== null) {\n          var compPrev = prevNode.compareDocumentPosition(ifr),\n              after = Node.DOCUMENT_POSITION_FOLLOWING;\n          if (compPrev & after) {\n            return true;\n          }\n        } else {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: 'getIteratorNode',\n    value: function getIteratorNode(itr) {\n      var prevNode = itr.previousNode();\n      var node = void 0;\n      if (prevNode === null) {\n        node = itr.nextNode();\n      } else {\n        node = itr.nextNode() && itr.nextNode();\n      }\n      return {\n        prevNode: prevNode,\n        node: node\n      };\n    }\n  }, {\n    key: 'checkIframeFilter',\n    value: function checkIframeFilter(node, prevNode, currIfr, ifr) {\n      var key = false,\n          handled = false;\n      ifr.forEach(function (ifrDict, i) {\n        if (ifrDict.val === currIfr) {\n          key = i;\n          handled = ifrDict.handled;\n        }\n      });\n      if (this.compareNodeIframe(node, prevNode, currIfr)) {\n        if (key === false && !handled) {\n          ifr.push({\n            val: currIfr,\n            handled: true\n          });\n        } else if (key !== false && !handled) {\n          ifr[key].handled = true;\n        }\n        return true;\n      }\n      if (key === false) {\n        ifr.push({\n          val: currIfr,\n          handled: false\n        });\n      }\n      return false;\n    }\n  }, {\n    key: 'handleOpenIframes',\n    value: function handleOpenIframes(ifr, whatToShow, eCb, fCb) {\n      var _this4 = this;\n\n      ifr.forEach(function (ifrDict) {\n        if (!ifrDict.handled) {\n          _this4.getIframeContents(ifrDict.val, function (con) {\n            _this4.createInstanceOnIframe(con).forEachNode(whatToShow, eCb, fCb);\n          });\n        }\n      });\n    }\n  }, {\n    key: 'iterateThroughNodes',\n    value: function iterateThroughNodes(whatToShow, ctx, eachCb, filterCb, doneCb) {\n      var _this5 = this;\n\n      var itr = this.createIterator(ctx, whatToShow, filterCb);\n      var ifr = [],\n          elements = [],\n          node = void 0,\n          prevNode = void 0,\n          retrieveNodes = function retrieveNodes() {\n        var _getIteratorNode = _this5.getIteratorNode(itr);\n\n        prevNode = _getIteratorNode.prevNode;\n        node = _getIteratorNode.node;\n\n        return node;\n      };\n      while (retrieveNodes()) {\n        if (this.iframes) {\n          this.forEachIframe(ctx, function (currIfr) {\n            return _this5.checkIframeFilter(node, prevNode, currIfr, ifr);\n          }, function (con) {\n            _this5.createInstanceOnIframe(con).forEachNode(whatToShow, function (ifrNode) {\n              return elements.push(ifrNode);\n            }, filterCb);\n          });\n        }\n        elements.push(node);\n      }\n      elements.forEach(function (node) {\n        eachCb(node);\n      });\n      if (this.iframes) {\n        this.handleOpenIframes(ifr, whatToShow, eachCb, filterCb);\n      }\n      doneCb();\n    }\n  }, {\n    key: 'forEachNode',\n    value: function forEachNode(whatToShow, each, filter) {\n      var _this6 = this;\n\n      var done = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};\n\n      var contexts = this.getContexts();\n      var open = contexts.length;\n      if (!open) {\n        done();\n      }\n      contexts.forEach(function (ctx) {\n        var ready = function ready() {\n          _this6.iterateThroughNodes(whatToShow, ctx, each, filter, function () {\n            if (--open <= 0) {\n              done();\n            }\n          });\n        };\n        if (_this6.iframes) {\n          _this6.waitForIframes(ctx, ready);\n        } else {\n          ready();\n        }\n      });\n    }\n  }], [{\n    key: 'matches',\n    value: function matches(element, selector) {\n      var selectors = typeof selector === 'string' ? [selector] : selector,\n          fn = element.matches || element.matchesSelector || element.msMatchesSelector || element.mozMatchesSelector || element.oMatchesSelector || element.webkitMatchesSelector;\n      if (fn) {\n        var match = false;\n        selectors.every(function (sel) {\n          if (fn.call(element, sel)) {\n            match = true;\n            return false;\n          }\n          return true;\n        });\n        return match;\n      } else {\n        return false;\n      }\n    }\n  }]);\n  return DOMIterator;\n}();\n\nvar Mark$1 = function () {\n  function Mark(ctx) {\n    classCallCheck(this, Mark);\n\n    this.ctx = ctx;\n    this.ie = false;\n    var ua = window.navigator.userAgent;\n    if (ua.indexOf('MSIE') > -1 || ua.indexOf('Trident') > -1) {\n      this.ie = true;\n    }\n  }\n\n  createClass(Mark, [{\n    key: 'log',\n    value: function log(msg) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'debug';\n\n      var log = this.opt.log;\n      if (!this.opt.debug) {\n        return;\n      }\n      if ((typeof log === 'undefined' ? 'undefined' : _typeof(log)) === 'object' && typeof log[level] === 'function') {\n        log[level]('mark.js: ' + msg);\n      }\n    }\n  }, {\n    key: 'escapeStr',\n    value: function escapeStr(str) {\n      return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n    }\n  }, {\n    key: 'createRegExp',\n    value: function createRegExp(str) {\n      if (this.opt.wildcards !== 'disabled') {\n        str = this.setupWildcardsRegExp(str);\n      }\n      str = this.escapeStr(str);\n      if (Object.keys(this.opt.synonyms).length) {\n        str = this.createSynonymsRegExp(str);\n      }\n      if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n        str = this.setupIgnoreJoinersRegExp(str);\n      }\n      if (this.opt.diacritics) {\n        str = this.createDiacriticsRegExp(str);\n      }\n      str = this.createMergedBlanksRegExp(str);\n      if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n        str = this.createJoinersRegExp(str);\n      }\n      if (this.opt.wildcards !== 'disabled') {\n        str = this.createWildcardsRegExp(str);\n      }\n      str = this.createAccuracyRegExp(str);\n      return str;\n    }\n  }, {\n    key: 'createSynonymsRegExp',\n    value: function createSynonymsRegExp(str) {\n      var syn = this.opt.synonyms,\n          sens = this.opt.caseSensitive ? '' : 'i',\n          joinerPlaceholder = this.opt.ignoreJoiners || this.opt.ignorePunctuation.length ? '\\0' : '';\n      for (var index in syn) {\n        if (syn.hasOwnProperty(index)) {\n          var value = syn[index],\n              k1 = this.opt.wildcards !== 'disabled' ? this.setupWildcardsRegExp(index) : this.escapeStr(index),\n              k2 = this.opt.wildcards !== 'disabled' ? this.setupWildcardsRegExp(value) : this.escapeStr(value);\n          if (k1 !== '' && k2 !== '') {\n            str = str.replace(new RegExp('(' + this.escapeStr(k1) + '|' + this.escapeStr(k2) + ')', 'gm' + sens), joinerPlaceholder + ('(' + this.processSynomyms(k1) + '|') + (this.processSynomyms(k2) + ')') + joinerPlaceholder);\n          }\n        }\n      }\n      return str;\n    }\n  }, {\n    key: 'processSynomyms',\n    value: function processSynomyms(str) {\n      if (this.opt.ignoreJoiners || this.opt.ignorePunctuation.length) {\n        str = this.setupIgnoreJoinersRegExp(str);\n      }\n      return str;\n    }\n  }, {\n    key: 'setupWildcardsRegExp',\n    value: function setupWildcardsRegExp(str) {\n      str = str.replace(/(?:\\\\)*\\?/g, function (val) {\n        return val.charAt(0) === '\\\\' ? '?' : '\\x01';\n      });\n      return str.replace(/(?:\\\\)*\\*/g, function (val) {\n        return val.charAt(0) === '\\\\' ? '*' : '\\x02';\n      });\n    }\n  }, {\n    key: 'createWildcardsRegExp',\n    value: function createWildcardsRegExp(str) {\n      var spaces = this.opt.wildcards === 'withSpaces';\n      return str.replace(/\\u0001/g, spaces ? '[\\\\S\\\\s]?' : '\\\\S?').replace(/\\u0002/g, spaces ? '[\\\\S\\\\s]*?' : '\\\\S*');\n    }\n  }, {\n    key: 'setupIgnoreJoinersRegExp',\n    value: function setupIgnoreJoinersRegExp(str) {\n      return str.replace(/[^(|)\\\\]/g, function (val, indx, original) {\n        var nextChar = original.charAt(indx + 1);\n        if (/[(|)\\\\]/.test(nextChar) || nextChar === '') {\n          return val;\n        } else {\n          return val + '\\0';\n        }\n      });\n    }\n  }, {\n    key: 'createJoinersRegExp',\n    value: function createJoinersRegExp(str) {\n      var joiner = [];\n      var ignorePunctuation = this.opt.ignorePunctuation;\n      if (Array.isArray(ignorePunctuation) && ignorePunctuation.length) {\n        joiner.push(this.escapeStr(ignorePunctuation.join('')));\n      }\n      if (this.opt.ignoreJoiners) {\n        joiner.push('\\\\u00ad\\\\u200b\\\\u200c\\\\u200d');\n      }\n      return joiner.length ? str.split(/\\u0000+/).join('[' + joiner.join('') + ']*') : str;\n    }\n  }, {\n    key: 'createDiacriticsRegExp',\n    value: function createDiacriticsRegExp(str) {\n      var sens = this.opt.caseSensitive ? '' : 'i',\n          dct = this.opt.caseSensitive ? ['aàáảãạăằắẳẵặâầấẩẫậäåāą', 'AÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ', 'cçćč', 'CÇĆČ', 'dđď', 'DĐĎ', 'eèéẻẽẹêềếểễệëěēę', 'EÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ', 'iìíỉĩịîïī', 'IÌÍỈĨỊÎÏĪ', 'lł', 'LŁ', 'nñňń', 'NÑŇŃ', 'oòóỏõọôồốổỗộơởỡớờợöøō', 'OÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ', 'rř', 'RŘ', 'sšśșş', 'SŠŚȘŞ', 'tťțţ', 'TŤȚŢ', 'uùúủũụưừứửữựûüůū', 'UÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ', 'yýỳỷỹỵÿ', 'YÝỲỶỸỴŸ', 'zžżź', 'ZŽŻŹ'] : ['aàáảãạăằắẳẵặâầấẩẫậäåāąAÀÁẢÃẠĂẰẮẲẴẶÂẦẤẨẪẬÄÅĀĄ', 'cçćčCÇĆČ', 'dđďDĐĎ', 'eèéẻẽẹêềếểễệëěēęEÈÉẺẼẸÊỀẾỂỄỆËĚĒĘ', 'iìíỉĩịîïīIÌÍỈĨỊÎÏĪ', 'lłLŁ', 'nñňńNÑŇŃ', 'oòóỏõọôồốổỗộơởỡớờợöøōOÒÓỎÕỌÔỒỐỔỖỘƠỞỠỚỜỢÖØŌ', 'rřRŘ', 'sšśșşSŠŚȘŞ', 'tťțţTŤȚŢ', 'uùúủũụưừứửữựûüůūUÙÚỦŨỤƯỪỨỬỮỰÛÜŮŪ', 'yýỳỷỹỵÿYÝỲỶỸỴŸ', 'zžżźZŽŻŹ'];\n      var handled = [];\n      str.split('').forEach(function (ch) {\n        dct.every(function (dct) {\n          if (dct.indexOf(ch) !== -1) {\n            if (handled.indexOf(dct) > -1) {\n              return false;\n            }\n            str = str.replace(new RegExp('[' + dct + ']', 'gm' + sens), '[' + dct + ']');\n            handled.push(dct);\n          }\n          return true;\n        });\n      });\n      return str;\n    }\n  }, {\n    key: 'createMergedBlanksRegExp',\n    value: function createMergedBlanksRegExp(str) {\n      return str.replace(/[\\s]+/gmi, '[\\\\s]+');\n    }\n  }, {\n    key: 'createAccuracyRegExp',\n    value: function createAccuracyRegExp(str) {\n      var _this = this;\n\n      var chars = '!\"#$%&\\'()*+,-./:;<=>?@[\\\\]^_`{|}~¡¿';\n      var acc = this.opt.accuracy,\n          val = typeof acc === 'string' ? acc : acc.value,\n          ls = typeof acc === 'string' ? [] : acc.limiters,\n          lsJoin = '';\n      ls.forEach(function (limiter) {\n        lsJoin += '|' + _this.escapeStr(limiter);\n      });\n      switch (val) {\n        case 'partially':\n        default:\n          return '()(' + str + ')';\n        case 'complementary':\n          lsJoin = '\\\\s' + (lsJoin ? lsJoin : this.escapeStr(chars));\n          return '()([^' + lsJoin + ']*' + str + '[^' + lsJoin + ']*)';\n        case 'exactly':\n          return '(^|\\\\s' + lsJoin + ')(' + str + ')(?=$|\\\\s' + lsJoin + ')';\n      }\n    }\n  }, {\n    key: 'getSeparatedKeywords',\n    value: function getSeparatedKeywords(sv) {\n      var _this2 = this;\n\n      var stack = [];\n      sv.forEach(function (kw) {\n        if (!_this2.opt.separateWordSearch) {\n          if (kw.trim() && stack.indexOf(kw) === -1) {\n            stack.push(kw);\n          }\n        } else {\n          kw.split(' ').forEach(function (kwSplitted) {\n            if (kwSplitted.trim() && stack.indexOf(kwSplitted) === -1) {\n              stack.push(kwSplitted);\n            }\n          });\n        }\n      });\n      return {\n        'keywords': stack.sort(function (a, b) {\n          return b.length - a.length;\n        }),\n        'length': stack.length\n      };\n    }\n  }, {\n    key: 'isNumeric',\n    value: function isNumeric(value) {\n      return Number(parseFloat(value)) == value;\n    }\n  }, {\n    key: 'checkRanges',\n    value: function checkRanges(array) {\n      var _this3 = this;\n\n      if (!Array.isArray(array) || Object.prototype.toString.call(array[0]) !== '[object Object]') {\n        this.log('markRanges() will only accept an array of objects');\n        this.opt.noMatch(array);\n        return [];\n      }\n      var stack = [];\n      var last = 0;\n      array.sort(function (a, b) {\n        return a.start - b.start;\n      }).forEach(function (item) {\n        var _callNoMatchOnInvalid = _this3.callNoMatchOnInvalidRanges(item, last),\n            start = _callNoMatchOnInvalid.start,\n            end = _callNoMatchOnInvalid.end,\n            valid = _callNoMatchOnInvalid.valid;\n\n        if (valid) {\n          item.start = start;\n          item.length = end - start;\n          stack.push(item);\n          last = end;\n        }\n      });\n      return stack;\n    }\n  }, {\n    key: 'callNoMatchOnInvalidRanges',\n    value: function callNoMatchOnInvalidRanges(range, last) {\n      var start = void 0,\n          end = void 0,\n          valid = false;\n      if (range && typeof range.start !== 'undefined') {\n        start = parseInt(range.start, 10);\n        end = start + parseInt(range.length, 10);\n        if (this.isNumeric(range.start) && this.isNumeric(range.length) && end - last > 0 && end - start > 0) {\n          valid = true;\n        } else {\n          this.log('Ignoring invalid or overlapping range: ' + ('' + JSON.stringify(range)));\n          this.opt.noMatch(range);\n        }\n      } else {\n        this.log('Ignoring invalid range: ' + JSON.stringify(range));\n        this.opt.noMatch(range);\n      }\n      return {\n        start: start,\n        end: end,\n        valid: valid\n      };\n    }\n  }, {\n    key: 'checkWhitespaceRanges',\n    value: function checkWhitespaceRanges(range, originalLength, string) {\n      var end = void 0,\n          valid = true,\n          max = string.length,\n          offset = originalLength - max,\n          start = parseInt(range.start, 10) - offset;\n      start = start > max ? max : start;\n      end = start + parseInt(range.length, 10);\n      if (end > max) {\n        end = max;\n        this.log('End range automatically set to the max value of ' + max);\n      }\n      if (start < 0 || end - start < 0 || start > max || end > max) {\n        valid = false;\n        this.log('Invalid range: ' + JSON.stringify(range));\n        this.opt.noMatch(range);\n      } else if (string.substring(start, end).replace(/\\s+/g, '') === '') {\n        valid = false;\n        this.log('Skipping whitespace only range: ' + JSON.stringify(range));\n        this.opt.noMatch(range);\n      }\n      return {\n        start: start,\n        end: end,\n        valid: valid\n      };\n    }\n  }, {\n    key: 'getTextNodes',\n    value: function getTextNodes(cb) {\n      var _this4 = this;\n\n      var val = '',\n          nodes = [];\n      this.iterator.forEachNode(NodeFilter.SHOW_TEXT, function (node) {\n        nodes.push({\n          start: val.length,\n          end: (val += node.textContent).length,\n          node: node\n        });\n      }, function (node) {\n        if (_this4.matchesExclude(node.parentNode)) {\n          return NodeFilter.FILTER_REJECT;\n        } else {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n      }, function () {\n        cb({\n          value: val,\n          nodes: nodes\n        });\n      });\n    }\n  }, {\n    key: 'matchesExclude',\n    value: function matchesExclude(el) {\n      return DOMIterator.matches(el, this.opt.exclude.concat(['script', 'style', 'title', 'head', 'html']));\n    }\n  }, {\n    key: 'wrapRangeInTextNode',\n    value: function wrapRangeInTextNode(node, start, end) {\n      var hEl = !this.opt.element ? 'mark' : this.opt.element,\n          startNode = node.splitText(start),\n          ret = startNode.splitText(end - start);\n      var repl = document.createElement(hEl);\n      repl.setAttribute('data-markjs', 'true');\n      if (this.opt.className) {\n        repl.setAttribute('class', this.opt.className);\n      }\n      repl.textContent = startNode.textContent;\n      startNode.parentNode.replaceChild(repl, startNode);\n      return ret;\n    }\n  }, {\n    key: 'wrapRangeInMappedTextNode',\n    value: function wrapRangeInMappedTextNode(dict, start, end, filterCb, eachCb) {\n      var _this5 = this;\n\n      dict.nodes.every(function (n, i) {\n        var sibl = dict.nodes[i + 1];\n        if (typeof sibl === 'undefined' || sibl.start > start) {\n          if (!filterCb(n.node)) {\n            return false;\n          }\n          var s = start - n.start,\n              e = (end > n.end ? n.end : end) - n.start,\n              startStr = dict.value.substr(0, n.start),\n              endStr = dict.value.substr(e + n.start);\n          n.node = _this5.wrapRangeInTextNode(n.node, s, e);\n          dict.value = startStr + endStr;\n          dict.nodes.forEach(function (k, j) {\n            if (j >= i) {\n              if (dict.nodes[j].start > 0 && j !== i) {\n                dict.nodes[j].start -= e;\n              }\n              dict.nodes[j].end -= e;\n            }\n          });\n          end -= e;\n          eachCb(n.node.previousSibling, n.start);\n          if (end > n.end) {\n            start = n.end;\n          } else {\n            return false;\n          }\n        }\n        return true;\n      });\n    }\n  }, {\n    key: 'wrapMatches',\n    value: function wrapMatches(regex, ignoreGroups, filterCb, eachCb, endCb) {\n      var _this6 = this;\n\n      var matchIdx = ignoreGroups === 0 ? 0 : ignoreGroups + 1;\n      this.getTextNodes(function (dict) {\n        dict.nodes.forEach(function (node) {\n          node = node.node;\n          var match = void 0;\n          while ((match = regex.exec(node.textContent)) !== null && match[matchIdx] !== '') {\n            if (!filterCb(match[matchIdx], node)) {\n              continue;\n            }\n            var pos = match.index;\n            if (matchIdx !== 0) {\n              for (var i = 1; i < matchIdx; i++) {\n                pos += match[i].length;\n              }\n            }\n            node = _this6.wrapRangeInTextNode(node, pos, pos + match[matchIdx].length);\n            eachCb(node.previousSibling);\n            regex.lastIndex = 0;\n          }\n        });\n        endCb();\n      });\n    }\n  }, {\n    key: 'wrapMatchesAcrossElements',\n    value: function wrapMatchesAcrossElements(regex, ignoreGroups, filterCb, eachCb, endCb) {\n      var _this7 = this;\n\n      var matchIdx = ignoreGroups === 0 ? 0 : ignoreGroups + 1;\n      this.getTextNodes(function (dict) {\n        var match = void 0;\n        while ((match = regex.exec(dict.value)) !== null && match[matchIdx] !== '') {\n          var start = match.index;\n          if (matchIdx !== 0) {\n            for (var i = 1; i < matchIdx; i++) {\n              start += match[i].length;\n            }\n          }\n          var end = start + match[matchIdx].length;\n          _this7.wrapRangeInMappedTextNode(dict, start, end, function (node) {\n            return filterCb(match[matchIdx], node);\n          }, function (node, lastIndex) {\n            regex.lastIndex = lastIndex;\n            eachCb(node);\n          });\n        }\n        endCb();\n      });\n    }\n  }, {\n    key: 'wrapRangeFromIndex',\n    value: function wrapRangeFromIndex(ranges, filterCb, eachCb, endCb) {\n      var _this8 = this;\n\n      this.getTextNodes(function (dict) {\n        var originalLength = dict.value.length;\n        ranges.forEach(function (range, counter) {\n          var _checkWhitespaceRange = _this8.checkWhitespaceRanges(range, originalLength, dict.value),\n              start = _checkWhitespaceRange.start,\n              end = _checkWhitespaceRange.end,\n              valid = _checkWhitespaceRange.valid;\n\n          if (valid) {\n            _this8.wrapRangeInMappedTextNode(dict, start, end, function (node) {\n              return filterCb(node, range, dict.value.substring(start, end), counter);\n            }, function (node) {\n              eachCb(node, range);\n            });\n          }\n        });\n        endCb();\n      });\n    }\n  }, {\n    key: 'unwrapMatches',\n    value: function unwrapMatches(node) {\n      var parent = node.parentNode;\n      var docFrag = document.createDocumentFragment();\n      while (node.firstChild) {\n        docFrag.appendChild(node.removeChild(node.firstChild));\n      }\n      parent.replaceChild(docFrag, node);\n      if (!this.ie) {\n        parent.normalize();\n      } else {\n        this.normalizeTextNode(parent);\n      }\n    }\n  }, {\n    key: 'normalizeTextNode',\n    value: function normalizeTextNode(node) {\n      if (!node) {\n        return;\n      }\n      if (node.nodeType === 3) {\n        while (node.nextSibling && node.nextSibling.nodeType === 3) {\n          node.nodeValue += node.nextSibling.nodeValue;\n          node.parentNode.removeChild(node.nextSibling);\n        }\n      } else {\n        this.normalizeTextNode(node.firstChild);\n      }\n      this.normalizeTextNode(node.nextSibling);\n    }\n  }, {\n    key: 'markRegExp',\n    value: function markRegExp(regexp, opt) {\n      var _this9 = this;\n\n      this.opt = opt;\n      this.log('Searching with expression \"' + regexp + '\"');\n      var totalMatches = 0,\n          fn = 'wrapMatches';\n      var eachCb = function eachCb(element) {\n        totalMatches++;\n        _this9.opt.each(element);\n      };\n      if (this.opt.acrossElements) {\n        fn = 'wrapMatchesAcrossElements';\n      }\n      this[fn](regexp, this.opt.ignoreGroups, function (match, node) {\n        return _this9.opt.filter(node, match, totalMatches);\n      }, eachCb, function () {\n        if (totalMatches === 0) {\n          _this9.opt.noMatch(regexp);\n        }\n        _this9.opt.done(totalMatches);\n      });\n    }\n  }, {\n    key: 'mark',\n    value: function mark(sv, opt) {\n      var _this10 = this;\n\n      this.opt = opt;\n      var totalMatches = 0,\n          fn = 'wrapMatches';\n\n      var _getSeparatedKeywords = this.getSeparatedKeywords(typeof sv === 'string' ? [sv] : sv),\n          kwArr = _getSeparatedKeywords.keywords,\n          kwArrLen = _getSeparatedKeywords.length,\n          sens = this.opt.caseSensitive ? '' : 'i',\n          handler = function handler(kw) {\n        var regex = new RegExp(_this10.createRegExp(kw), 'gm' + sens),\n            matches = 0;\n        _this10.log('Searching with expression \"' + regex + '\"');\n        _this10[fn](regex, 1, function (term, node) {\n          return _this10.opt.filter(node, kw, totalMatches, matches);\n        }, function (element) {\n          matches++;\n          totalMatches++;\n          _this10.opt.each(element);\n        }, function () {\n          if (matches === 0) {\n            _this10.opt.noMatch(kw);\n          }\n          if (kwArr[kwArrLen - 1] === kw) {\n            _this10.opt.done(totalMatches);\n          } else {\n            handler(kwArr[kwArr.indexOf(kw) + 1]);\n          }\n        });\n      };\n\n      if (this.opt.acrossElements) {\n        fn = 'wrapMatchesAcrossElements';\n      }\n      if (kwArrLen === 0) {\n        this.opt.done(totalMatches);\n      } else {\n        handler(kwArr[0]);\n      }\n    }\n  }, {\n    key: 'markRanges',\n    value: function markRanges(rawRanges, opt) {\n      var _this11 = this;\n\n      this.opt = opt;\n      var totalMatches = 0,\n          ranges = this.checkRanges(rawRanges);\n      if (ranges && ranges.length) {\n        this.log('Starting to mark with the following ranges: ' + JSON.stringify(ranges));\n        this.wrapRangeFromIndex(ranges, function (node, range, match, counter) {\n          return _this11.opt.filter(node, range, match, counter);\n        }, function (element, range) {\n          totalMatches++;\n          _this11.opt.each(element, range);\n        }, function () {\n          _this11.opt.done(totalMatches);\n        });\n      } else {\n        this.opt.done(totalMatches);\n      }\n    }\n  }, {\n    key: 'unmark',\n    value: function unmark(opt) {\n      var _this12 = this;\n\n      this.opt = opt;\n      var sel = this.opt.element ? this.opt.element : '*';\n      sel += '[data-markjs]';\n      if (this.opt.className) {\n        sel += '.' + this.opt.className;\n      }\n      this.log('Removal selector \"' + sel + '\"');\n      this.iterator.forEachNode(NodeFilter.SHOW_ELEMENT, function (node) {\n        _this12.unwrapMatches(node);\n      }, function (node) {\n        var matchesSel = DOMIterator.matches(node, sel),\n            matchesExclude = _this12.matchesExclude(node);\n        if (!matchesSel || matchesExclude) {\n          return NodeFilter.FILTER_REJECT;\n        } else {\n          return NodeFilter.FILTER_ACCEPT;\n        }\n      }, this.opt.done);\n    }\n  }, {\n    key: 'opt',\n    set: function set$$1(val) {\n      this._opt = _extends({}, {\n        'element': '',\n        'className': '',\n        'exclude': [],\n        'iframes': false,\n        'iframesTimeout': 5000,\n        'separateWordSearch': true,\n        'diacritics': true,\n        'synonyms': {},\n        'accuracy': 'partially',\n        'acrossElements': false,\n        'caseSensitive': false,\n        'ignoreJoiners': false,\n        'ignoreGroups': 0,\n        'ignorePunctuation': [],\n        'wildcards': 'disabled',\n        'each': function each() {},\n        'noMatch': function noMatch() {},\n        'filter': function filter() {\n          return true;\n        },\n        'done': function done() {},\n        'debug': false,\n        'log': window.console\n      }, val);\n    },\n    get: function get$$1() {\n      return this._opt;\n    }\n  }, {\n    key: 'iterator',\n    get: function get$$1() {\n      return new DOMIterator(this.ctx, this.opt.iframes, this.opt.exclude, this.opt.iframesTimeout);\n    }\n  }]);\n  return Mark;\n}();\n\nfunction Mark(ctx) {\n  var _this = this;\n\n  var instance = new Mark$1(ctx);\n  this.mark = function (sv, opt) {\n    instance.mark(sv, opt);\n    return _this;\n  };\n  this.markRegExp = function (sv, opt) {\n    instance.markRegExp(sv, opt);\n    return _this;\n  };\n  this.markRanges = function (sv, opt) {\n    instance.markRanges(sv, opt);\n    return _this;\n  };\n  this.unmark = function (opt) {\n    instance.unmark(opt);\n    return _this;\n  };\n  return this;\n}\n\nreturn Mark;\n\n})));\n","/*\n * Copyright 2018-2020 DITA (AM Consulting LLC)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * Developed on behalf of: CAST (http://www.cast.org)\n * Licensed to: Bokbasen AS and CAST under one or more contributor license agreements.\n */\n\nimport * as Mark from \"mark.js\";\n\nexport const IS_DEV = (process.env.NODE_ENV === \"development\" || process.env.NODE_ENV === \"dev\");\n\nasync function markCuedWords(glossary: Array<GlossaryItem>) {\n    if (IS_DEV) console.log(\"glossary mark words \" + glossary);\n\n    glossary.forEach(async function (glossaryitem: GlossaryItem) {\n\n        if (IS_DEV) console.log(glossaryitem);\n        var instance = new Mark(document.body);\n        await instance.mark(glossaryitem.word, {\n            accuracy: { value: \"exactly\", limiters: [\".\", \",\", \";\", \":\", \")\"] },\n            separateWordSearch: false,\n            acrossElements: true,\n            exclude: [\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"figure\"],\n            element: \"a\",\n            className: \"gloss\",\n            each: function (node) {\n                node.addEventListener(\"click\", async (event) => {\n                    var htmlElement = node as HTMLElement\n                    if (IS_DEV) console.log(\"Mark Node Click Handler\");\n\n                    event.preventDefault()\n                    event.stopPropagation()\n                    var modal = document.createElement('div');\n                    modal.className = 'modal';\n                    modal.innerHTML = '<div class=\"modal-content\"><span class=\"close\">x</span>' + glossaryitem.definition + '</div>'\n                    modal.style.display = \"block\";\n\n                    document.body.appendChild(modal)\n\n                    var modalContent = modal.getElementsByClassName(\"modal-content\")[0] as HTMLDivElement\n                    var offset = htmlElement.offsetTop\n                    if (htmlElement.offsetTop > 100) {\n                        offset = htmlElement.offsetTop - 20\n                    }\n                    modalContent.style.top = offset + \"px\";\n\n                    var span = modal.getElementsByClassName(\"close\")[0] as HTMLSpanElement\n                    span.onclick = function () {\n                        modal.style.display = \"none\";\n                        modal.parentElement.removeChild(modal)\n                    }\n\n                    window.onclick = function (event) {\n                        if (event.target == modal) {\n                            modal.style.display = \"none\";\n                            modal.parentElement.removeChild(modal)\n                        }\n                    }\n\n                }, true);\n            }\n        });\n    })\n\n}\n\nexport interface GlossaryItem {\n    word: string;\n    definition: string;\n}\n\nvar glossary: Array<GlossaryItem> = [{ word: \"frankenstein\", definition: \"who is frankenstein\" }, { word: \"Mary Shelley\", definition: \"who is Mary Shelley?\" }]\n\nmarkCuedWords(glossary);\n\n"],"sourceRoot":""}
